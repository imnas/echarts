{"version":3,"sources":["../../../../src/lib/tooltip/BollingerBandTooltip.js"],"names":["React","Component","PropTypes","format","displayValuesFor","GenericChartComponent","isDefined","functor","ToolTipText","ToolTipTSpanLabel","BollingerBandTooltip","props","renderSVG","bind","moreProps","onClick","displayFormat","yAccessor","options","textFill","labelFill","chartConfig","width","height","currentItem","top","middle","bottom","item","originProp","origin","x","y","sourcePath","windowSize","multiplier","movingAverageType","tooltipLabel","tooltipValue","className","fontFamily","fontSize","propTypes","string","func","isRequired","array","shape","number","defaultProps"],"mappings":"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","file":"BollingerBandTooltip.js","sourcesContent":["\"use strict\";\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { format } from \"d3-format\";\nimport displayValuesFor from \"./displayValuesFor\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined, functor } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass BollingerBandTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { onClick, displayFormat, yAccessor, options, textFill, labelFill } = this.props;\n\t\tconst { displayValuesFor } = this.props;\n\n\t\tconst { chartConfig: { width, height } } = moreProps;\n\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\n\n\t\tlet top, middle, bottom;\n\t\ttop = middle = bottom = \"n/a\";\n\n\t\tif (isDefined(currentItem)\n\t\t\t\t&& isDefined(yAccessor(currentItem))) {\n\t\t\tconst item = yAccessor(currentItem);\n\t\t\ttop = displayFormat(item.top);\n\t\t\tmiddle = displayFormat(item.middle);\n\t\t\tbottom = displayFormat(item.bottom);\n\t\t}\n\n\t\tconst { origin: originProp } = this.props;\n\t\tconst origin = functor(originProp);\n\t\tconst [x, y] = origin(width, height);\n\n\t\tconst { sourcePath, windowSize, multiplier, movingAverageType } = options;\n\t\tconst tooltipLabel = `BB(${sourcePath}, ${windowSize}, ${multiplier}, ${movingAverageType}): `;\n\t\tconst tooltipValue = `${top}, ${middle}, ${bottom}`;\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`}\n\t\t\t\tclassName={this.props.className} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{tooltipLabel}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={textFill}>{tooltipValue}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOn={[\"mousemove\"]}\n\t\t/>;\n\t}\n}\n\nBollingerBandTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tdisplayValuesFor: PropTypes.func,\n\tdisplayFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.array.isRequired,\n\tonClick: PropTypes.func,\n\toptions: PropTypes.shape({\n\t\tsourcePath: PropTypes.string.isRequired,\n\t\twindowSize: PropTypes.number.isRequired,\n\t\tmultiplier: PropTypes.number.isRequired,\n\t\tmovingAverageType: PropTypes.string.isRequired,\n\t}).isRequired,\n\ttextFill: PropTypes.string,\n\tlabelFill: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n};\n\nBollingerBandTooltip.defaultProps = {\n\tclassName: \"react-stockcharts-tooltip react-stockcharts-bollingerband-tooltip\",\n\tdisplayFormat: format(\".2f\"),\n\tdisplayValuesFor: displayValuesFor,\n\torigin: [0, 10],\n};\n\nexport default BollingerBandTooltip;\n"]}