{"version":3,"sources":["../../../../src/lib/coordinates/CurrentCoordinate.js"],"names":["React","Component","PropTypes","GenericChartComponent","isNotDefined","getMouseCanvas","CurrentCoordinate","props","renderSVG","bind","drawOnCanvas","ctx","moreProps","circle","helper","fillStyle","fill","beginPath","arc","x","y","r","Math","PI","className","propTypes","yAccessor","func","number","isRequired","string","defaultProps","show","xScale","yScale","chartConfig","currentItem","xAccessor","xValue","yValue","round"],"mappings":"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","file":"CurrentCoordinate.js","sourcesContent":["\"use strict\";\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { isNotDefined } from \"../utils\";\nimport { getMouseCanvas } from \"../GenericComponent\";\n\nclass CurrentCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst circle = helper(this.props, moreProps);\n\t\tif (!circle) return null;\n\n\t\tctx.fillStyle = circle.fill;\n\t\tctx.beginPath();\n\t\tctx.arc(circle.x, circle.y, circle.r, 0, 2 * Math.PI, false);\n\t\tctx.fill();\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { className } = this.props;\n\n\t\tconst circle = helper(this.props, moreProps);\n\t\tif (!circle) return null;\n\n\t\treturn (\n\t\t\t<circle className={className} cx={circle.x} cy={circle.y} r={circle.r} fill={circle.fill} />\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tcanvasToDraw={getMouseCanvas}\n\t\t\tdrawOn={[\"mousemove\", \"pan\"]}\n\t\t/>;\n\t}\n}\n\nCurrentCoordinate.propTypes = {\n\tyAccessor: PropTypes.func,\n\tr: PropTypes.number.isRequired,\n\tclassName: PropTypes.string,\n};\n\n\nCurrentCoordinate.defaultProps = {\n\tr: 3,\n\tclassName: \"react-stockcharts-current-coordinate\",\n};\n\nfunction helper(props, moreProps) {\n\tconst { fill, yAccessor, r } = props;\n\n\tconst { show, xScale, chartConfig: { yScale }, currentItem, xAccessor } = moreProps;\n\n\t// console.log(show);\n\tif (!show || isNotDefined(currentItem)) return null;\n\n\tconst xValue = xAccessor(currentItem);\n\tconst yValue = yAccessor(currentItem);\n\n\tif (isNotDefined(yValue)) return null;\n\n\t// console.log(chartConfig);\n\tconst x = Math.round(xScale(xValue));\n\tconst y = Math.round(yScale(yValue));\n\n\treturn { x, y, r, fill };\n}\n\nexport default CurrentCoordinate;\n"]}