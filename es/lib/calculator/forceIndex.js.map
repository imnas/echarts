{"version":3,"sources":["../../../../src/lib/calculator/forceIndex.js"],"names":["slidingWindow","path","ForceIndex","defaultOptions","options","calculator","data","sourcePath","volumePath","source","volume","forceIndexCalulator","windowSize","accumulator","prev","curr","forceIndex","undefinedLength","x","arguments","length"],"mappings":"AAAA;;;;;;AAEA,SAASA,aAAT,EAAwBC,IAAxB,QAAoC,UAApC;AACA,SAASC,cAAcC,cAAvB,QAA6C,gCAA7C;;AAEA,eAAe,YAAW;;AAEzB,KAAIC,UAAUD,cAAd;;AAEA,UAASE,UAAT,CAAoBC,IAApB,EAA0B;AAAA,iBACUF,OADV;AAAA,MACjBG,UADiB,YACjBA,UADiB;AAAA,MACLC,UADK,YACLA,UADK;;;AAGzB,MAAMC,SAASR,KAAKM,UAAL,CAAf;AACA,MAAMG,SAAST,KAAKO,UAAL,CAAf;;AAEA,MAAMG,sBAAsBX,gBAC1BY,UAD0B,CACf,CADe,EAE1BC,WAF0B,CAEd;AAAA;AAAA,OAAEC,IAAF;AAAA,OAAQC,IAAR;;AAAA,UAAkB,CAACN,OAAOM,IAAP,IAAeN,OAAOK,IAAP,CAAhB,IAAgCJ,OAAOK,IAAP,CAAlD;AAAA,GAFc,CAA5B;;AAIA,MAAMC,aAAaL,oBAAoBL,IAApB,CAAnB;;AAEA,SAAOU,UAAP;AACA;AACDX,YAAWY,eAAX,GAA6B,YAAW;AACvC,SAAO,CAAP;AACA,EAFD;AAGAZ,YAAWD,OAAX,GAAqB,UAASc,CAAT,EAAY;AAChC,MAAI,CAACC,UAAUC,MAAf,EAAuB;AACtB,UAAOhB,OAAP;AACA;AACDA,yBAAeD,cAAf,EAAkCe,CAAlC;AACA,SAAOb,UAAP;AACA,EAND;;AAQA,QAAOA,UAAP;AACA","file":"forceIndex.js","sourcesContent":["\"use strict\";\n\nimport { slidingWindow, path } from \"../utils\";\nimport { ForceIndex as defaultOptions } from \"./defaultOptionsForComputation\";\n\nexport default function() {\n\n\tlet options = defaultOptions;\n\n\tfunction calculator(data) {\n\t\tconst { sourcePath, volumePath } = options;\n\n\t\tconst source = path(sourcePath);\n\t\tconst volume = path(volumePath);\n\n\t\tconst forceIndexCalulator = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.accumulator(([prev, curr]) => (source(curr) - source(prev)) * volume(curr));\n\n\t\tconst forceIndex = forceIndexCalulator(data);\n\n\t\treturn forceIndex;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn 2;\n\t};\n\tcalculator.options = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn options;\n\t\t}\n\t\toptions = { ...defaultOptions, ...x };\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n"]}