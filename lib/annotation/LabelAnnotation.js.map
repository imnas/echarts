{"version":3,"sources":["../../../src/lib/annotation/LabelAnnotation.js"],"names":["helper","LabelAnnotation","props","handleClick","bind","e","onClick","xScale","yScale","datum","className","textAnchor","fontFamily","fontSize","opacity","rotate","xAccessor","xPos","yPos","fill","text","tooltip","x","y","plotData","xFunc","yFunc","propTypes","string","number","func","object","oneOfType","defaultProps"],"mappings":"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","file":"LabelAnnotation.js","sourcesContent":["\"use strict\";\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { functor } from \"../utils\";\n\nclass LabelAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tconst { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tconst { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tconst { className, textAnchor, fontFamily, fontSize, opacity, rotate } = this.props;\n\t\tconst { xAccessor, xScale, yScale } = this.props;\n\n\t\tconst { xPos, yPos, fill, text, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (<g className={className}>\n\t\t\t<title>{tooltip}</title>\n\t\t\t<text x={xPos} y={yPos}\n\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}\n\t\t\t\tfill={fill}\n\t\t\t\topacity={opacity}\n\t\t\t\ttransform={`rotate(${rotate}, ${xPos}, ${yPos})`}\n\t\t\t\tonClick={this.handleClick}\n\t\t\t\ttextAnchor={textAnchor}>{text}</text>\n\t\t</g>);\n\t}\n}\n\nexport function helper(props, xAccessor, xScale, yScale) {\n\tconst { x, y, datum, fill, text, tooltip, plotData } = props;\n\n\tconst xFunc = functor(x);\n\tconst yFunc = functor(y);\n\n\tconst [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\n\n\treturn {\n\t\txPos,\n\t\tyPos,\n\t\ttext: functor(text)(datum),\n\t\tfill: functor(fill)(datum),\n\t\ttooltip: functor(tooltip)(datum),\n\t};\n}\n\nLabelAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\ttext: PropTypes.string,\n\ttextAnchor: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\topacity: PropTypes.number,\n\trotate: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tx: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func\n\t]),\n\ty: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func\n\t])\n};\n\nexport const defaultProps = {\n\ttextAnchor: \"middle\",\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tfill: \"#000000\",\n\topacity: 1,\n\trotate: 0,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nLabelAnnotation.defaultProps = {\n\t...defaultProps,\n\tclassName: \"react-stockcharts-labelannotation\",\n};\n\nexport default LabelAnnotation;\n"]}