{"version":3,"sources":["../../../../src/lib/series/TriangleMarker.js"],"names":["React","PropTypes","hexToRGBA","functor","Triangle","props","className","stroke","strokeWidth","opacity","fill","point","width","w","datum","x","y","getTrianglePoints","innerOpposite","innerHypotenuse","points","propTypes","string","isRequired","number","shape","object","oneOfType","func","defaultProps","drawOnCanvas","ctx","strokeStyle","lineWidth","fillStyle","drawOnCanvasWithNoStateChange","beginPath","moveTo","lineTo","Math","cos","PI","tan"],"mappings":"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","file":"TriangleMarker.js","sourcesContent":["\"use strict\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { hexToRGBA, functor } from \"../utils\";\n\nfunction Triangle(props) {\n\tconst {\n\t\tclassName, stroke, strokeWidth,\n\t\topacity, fill, point, width\n\t} = props;\n\tconst w = functor(width)(point.datum);\n\tconst { x, y } = point;\n\tconst { innerOpposite, innerHypotenuse } = getTrianglePoints(w);\n\tconst points = `\n\t\t${x} ${y - innerHypotenuse},\n\t\t${x + (w / 2)} ${y + innerOpposite},\n\t\t${x - (w / 2)} ${y + innerOpposite}\n\t`;\n\treturn (\n\t\t<polygon\n\t\t\tclassName={className}\n\t\t\tpoints={points}\n\t\t\tstroke={stroke}\n\t\t\tstrokeWidth={strokeWidth}\n\t\t\tfillOpacity={opacity}\n\t\t\tfill={fill}\n\t\t/>\n\t);\n}\nTriangle.propTypes = {\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tpoint: PropTypes.shape({\n\t\tx: PropTypes.number.isRequired,\n\t\ty: PropTypes.number.isRequired,\n\t\tdatum: PropTypes.object.isRequired,\n\t}).isRequired,\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\twidth: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func\n\t]).isRequired\n};\nTriangle.defaultProps = {\n\tstroke: \"#4682B4\",\n\tstrokeWidth: 1,\n\topacity: 0.5,\n\tfill: \"#4682B4\",\n\tclassName: \"react-stockcharts-marker-triangle\",\n};\nTriangle.drawOnCanvas = (props, point, ctx) => {\n\tconst { stroke, fill, opacity, strokeWidth } = props;\n\tctx.strokeStyle = stroke;\n\tctx.lineWidth = strokeWidth;\n\tif (fill !== \"none\") {\n\t\tctx.fillStyle = hexToRGBA(fill, opacity);\n\t}\n\tTriangle.drawOnCanvasWithNoStateChange(props, point, ctx);\n};\nTriangle.drawOnCanvasWithNoStateChange = (props, point, ctx) => {\n\tconst { width } = props;\n\tconst w = functor(width)(point.datum);\n\tconst { x, y } = point;\n\tconst { innerOpposite, innerHypotenuse } = getTrianglePoints(w);\n\tctx.beginPath();\n\tctx.moveTo(x, y - innerHypotenuse);\n\tctx.lineTo(x + (w / 2), y + innerOpposite);\n\tctx.lineTo(x - (w / 2), y + innerOpposite);\n\tctx.stroke();\n\tctx.fill();\n};\nexport default Triangle;\n\nfunction getTrianglePoints(width) {\n\tconst innerHypotenuse = (width / 2) * (1 / Math.cos(30 * Math.PI / 180));\n\tconst innerOpposite = (width / 2) * (1 / Math.tan(60 * Math.PI / 180));\n\treturn {\n\t\tinnerOpposite,\n\t\tinnerHypotenuse\n\t};\n}\n"]}