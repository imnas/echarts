{"version":3,"sources":["../../../../src/lib/utils/barWidth.js"],"names":["head","last","plotDataLengthBarWidth","props","moreProps","widthRatio","scale","xScale","accessor","xAccessor","plotData","width","Math","abs","length","timeIntervalBarWidth","interval","first","offset"],"mappings":"AAAA;;AAEA,SAASA,IAAT,EAAeC,IAAf,QAA2B,UAA3B;;AAEA;;;;;;;AAOA,OAAO,SAASC,sBAAT,CAAgCC,KAAhC,EAAuCC,SAAvC,EAAkD;AAAA,0BACfD,KADe,CAChDE,UADgD;AAAA,MACpCA,UADoC,qCACvB,GADuB;AAAA,MAExCC,KAFwC,GAECF,SAFD,CAEhDG,MAFgD;AAAA,MAEtBC,QAFsB,GAECJ,SAFD,CAEjCK,SAFiC;AAAA,MAEZC,QAFY,GAECN,SAFD,CAEZM,QAFY;;;AAIxD,MAAMC,QAAQC,KAAKC,GAAL,CAAS,CAACP,MAAME,SAASP,KAAKS,QAAL,CAAT,CAAN,IAAkCJ,MAAME,SAASR,KAAKU,QAAL,CAAT,CAAN,CAAnC,KAAuEA,SAASI,MAAT,GAAkB,CAAzF,CAAT,CAAd;AACA,SAAOH,QAAQN,UAAf;AACA;;AAED;;;;;AAKA,OAAO,SAASU,oBAAT,CAA8BC,QAA9B,EAAwC;AAC9C,SAAO,UAASb,KAAT,EAAgBC,SAAhB,EAA2B;AAAA,6BACQD,KADR,CACzBE,UADyB;AAAA,QACbA,UADa,sCACA,GADA;AAAA,QAEjBC,KAFiB,GAEwBF,SAFxB,CAEzBG,MAFyB;AAAA,QAECC,QAFD,GAEwBJ,SAFxB,CAEVK,SAFU;AAAA,QAEWC,QAFX,GAEwBN,SAFxB,CAEWM,QAFX;;;AAIjC,QAAMO,QAAQT,SAASR,KAAKU,QAAL,CAAT,CAAd;AACA,WAAOE,KAAKC,GAAL,CAASP,MAAMU,SAASE,MAAT,CAAgBD,KAAhB,EAAuB,CAAvB,CAAN,IAAmCX,MAAMW,KAAN,CAA5C,IAA4DZ,UAAnE;AACA,GAND;AAOA","file":"barWidth.js","sourcesContent":["\"use strict\";\n\nimport { head, last } from \"../utils\";\n\n/**\n * Bar width is based on the amount of items in the plot data and the distance between the first and last of those\n * items.\n * @param props the props passed to the series.\n * @param moreProps an object holding the xScale, xAccessor and plotData.\n * @return {number} the bar width.\n */\nexport function plotDataLengthBarWidth(props, moreProps) {\n\tconst { widthRatio: widthRatio = 0.8 } = props;\n\tconst { xScale: scale, xAccessor: accessor, plotData } = moreProps;\n\n\tconst width = Math.abs((scale(accessor(last(plotData))) - scale(accessor(head(plotData)))) / (plotData.length - 1));\n\treturn width * widthRatio;\n}\n\n/**\n * Generates a width function that calculates the bar width based on the given time interval.\n * @param interval a d3-time time interval.\n * @return {Function} the width function.\n */\nexport function timeIntervalBarWidth(interval) {\n\treturn function(props, moreProps) {\n\t\tconst { widthRatio: widthRatio = 0.8 } = props;\n\t\tconst { xScale: scale, xAccessor: accessor, plotData } = moreProps;\n\n\t\tconst first = accessor(head(plotData));\n\t\treturn Math.abs(scale(interval.offset(first, 1)) - scale(first)) * widthRatio;\n\t};\n}\n"]}