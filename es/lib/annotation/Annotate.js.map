{"version":3,"sources":["../../../../src/lib/annotation/Annotate.js"],"names":["React","Component","PropTypes","GenericChartComponent","Annotate","props","renderSVG","bind","moreProps","xAccessor","xScale","yScale","chartConfig","plotData","className","usingProps","Annotation","with","data","helper","map","d","idx","propTypes","string","func","when","object","defaultProps","filter"],"mappings":"AAAA;;;;;;;;;;;;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,OAAOC,qBAAP,MAAkC,0BAAlC;;IAEMC,Q;;;AACL,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA,kHACZA,KADY;;AAElB,QAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeC,IAAf,OAAjB;AAFkB;AAGlB;;;;2BACQ;AACR,UAAO,oBAAC,qBAAD;AACN,aAAS,KAAKD,SADR;AAEN,YAAQ,CAAC,KAAD;AAFF,KAAP;AAIA;;;4BACSE,S,EAAW;AAAA,OACZC,SADY,GACED,SADF,CACZC,SADY;AAAA,OAEZC,MAFY,GAEkCF,SAFlC,CAEZE,MAFY;AAAA,OAEWC,MAFX,GAEkCH,SAFlC,CAEJI,WAFI,CAEWD,MAFX;AAAA,OAEqBE,QAFrB,GAEkCL,SAFlC,CAEqBK,QAFrB;AAAA,gBAIgC,KAAKR,KAJrC;AAAA,OAIZS,SAJY,UAIZA,SAJY;AAAA,OAIDC,UAJC,UAIDA,UAJC;AAAA,OAIiBC,UAJjB,UAIWC,IAJX;;AAKpB,OAAMC,OAAOC,OAAO,KAAKd,KAAZ,EAAmBQ,QAAnB,CAAb;;AAEA,UACC;AAAA;AAAA,MAAG,qDAAmDC,SAAtD;AACEI,SAAKE,GAAL,CAAS,UAACC,CAAD,EAAIC,GAAJ;AAAA,YAAY,oBAAC,UAAD,aAAY,KAAKA;AAAjB,QACjBP,UADiB;AAErB,cAAQL,MAFa;AAGrB,cAAQC,MAHa;AAIrB,iBAAWF,SAJU;AAKrB,gBAAUI,QALW;AAMrB,aAAOQ,CANc,IAAZ;AAAA,KAAT;AADF,IADD;AAWA;;;;EA7BqBpB,S;;AAgCvBG,SAASmB,SAAT,GAAqB;AACpBT,YAAWZ,UAAUsB,MADD;AAEpBP,OAAMf,UAAUuB,IAFI;AAGpBC,OAAMxB,UAAUuB,IAHI;AAIpBV,aAAYb,UAAUyB;AAJF,CAArB;;AAOAvB,SAASwB,YAAT,GAAwB;AACvBd,YAAW;AADY,CAAxB;;AAIA,SAASK,MAAT,OAA0BN,QAA1B,EAAoC;AAAA,KAAlBa,IAAkB,QAAlBA,IAAkB;;AACnC,QAAOb,SAASgB,MAAT,CAAgBH,IAAhB,CAAP;AACA;;AAED,eAAetB,QAAf","file":"Annotate.js","sourcesContent":["\"use strict\";\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nclass Annotate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOn={[\"pan\"]}\n\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { xAccessor } = moreProps;\n\t\tconst { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tconst { className, usingProps, with: Annotation } = this.props;\n\t\tconst data = helper(this.props, plotData);\n\n\t\treturn (\n\t\t\t<g className={`react-stockcharts-enable-interaction ${className}`}>\n\t\t\t\t{data.map((d, idx) => <Annotation key={idx}\n\t\t\t\t\t{...usingProps}\n\t\t\t\t\txScale={xScale}\n\t\t\t\t\tyScale={yScale}\n\t\t\t\t\txAccessor={xAccessor}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tdatum={d} />)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nAnnotate.propTypes = {\n\tclassName: PropTypes.string,\n\twith: PropTypes.func,\n\twhen: PropTypes.func,\n\tusingProps: PropTypes.object,\n};\n\nAnnotate.defaultProps = {\n\tclassName: \"react-stockcharts-annotate react-stockcharts-default-cursor\",\n};\n\nfunction helper({ when }, plotData) {\n\treturn plotData.filter(when);\n}\n\nexport default Annotate;\n"]}