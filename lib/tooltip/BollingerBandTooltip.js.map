{"version":3,"sources":["../../../src/lib/tooltip/BollingerBandTooltip.js"],"names":["BollingerBandTooltip","props","renderSVG","bind","moreProps","onClick","displayFormat","yAccessor","options","textFill","labelFill","displayValuesFor","chartConfig","width","height","currentItem","top","middle","bottom","item","originProp","origin","x","y","sourcePath","windowSize","multiplier","movingAverageType","tooltipLabel","tooltipValue","className","fontFamily","fontSize","propTypes","string","func","isRequired","array","shape","number","defaultProps"],"mappings":"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","file":"BollingerBandTooltip.js","sourcesContent":["\"use strict\";\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { format } from \"d3-format\";\nimport displayValuesFor from \"./displayValuesFor\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined, functor } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass BollingerBandTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { onClick, displayFormat, yAccessor, options, textFill, labelFill } = this.props;\n\t\tconst { displayValuesFor } = this.props;\n\n\t\tconst { chartConfig: { width, height } } = moreProps;\n\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\n\n\t\tlet top, middle, bottom;\n\t\ttop = middle = bottom = \"n/a\";\n\n\t\tif (isDefined(currentItem)\n\t\t\t\t&& isDefined(yAccessor(currentItem))) {\n\t\t\tconst item = yAccessor(currentItem);\n\t\t\ttop = displayFormat(item.top);\n\t\t\tmiddle = displayFormat(item.middle);\n\t\t\tbottom = displayFormat(item.bottom);\n\t\t}\n\n\t\tconst { origin: originProp } = this.props;\n\t\tconst origin = functor(originProp);\n\t\tconst [x, y] = origin(width, height);\n\n\t\tconst { sourcePath, windowSize, multiplier, movingAverageType } = options;\n\t\tconst tooltipLabel = `BB(${sourcePath}, ${windowSize}, ${multiplier}, ${movingAverageType}): `;\n\t\tconst tooltipValue = `${top}, ${middle}, ${bottom}`;\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`}\n\t\t\t\tclassName={this.props.className} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{tooltipLabel}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={textFill}>{tooltipValue}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOn={[\"mousemove\"]}\n\t\t/>;\n\t}\n}\n\nBollingerBandTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tdisplayValuesFor: PropTypes.func,\n\tdisplayFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.array.isRequired,\n\tonClick: PropTypes.func,\n\toptions: PropTypes.shape({\n\t\tsourcePath: PropTypes.string.isRequired,\n\t\twindowSize: PropTypes.number.isRequired,\n\t\tmultiplier: PropTypes.number.isRequired,\n\t\tmovingAverageType: PropTypes.string.isRequired,\n\t}).isRequired,\n\ttextFill: PropTypes.string,\n\tlabelFill: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n};\n\nBollingerBandTooltip.defaultProps = {\n\tclassName: \"react-stockcharts-tooltip react-stockcharts-bollingerband-tooltip\",\n\tdisplayFormat: format(\".2f\"),\n\tdisplayValuesFor: displayValuesFor,\n\torigin: [0, 10],\n};\n\nexport default BollingerBandTooltip;\n"]}