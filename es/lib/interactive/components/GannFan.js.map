{"version":3,"sources":["../../../../../src/lib/interactive/components/GannFan.js"],"names":["React","Component","PropTypes","pairs","path","d3Path","GenericChartComponent","getMouseCanvas","generateLine","isHovering2","isDefined","isNotDefined","noop","hexToRGBA","GannFan","props","renderSVG","bind","drawOnCanvas","isHover","moreProps","tolerance","onHover","mouseXY","mouseX","mouseY","hovering","lines","helper","i","length","line1","left","Math","min","x1","x2","right","max","top","y1","y2","bottom","isWithinLineBounds","ctx","stroke","strokeWidth","strokeOpacity","fill","fillOpacity","fontFamily","fontSize","fontFill","lineWidth","strokeStyle","font","fillStyle","forEach","line","label","beginPath","moveTo","lineTo","fillText","text","x","y","pairsOfLines","idx","line2","closePath","map","each","toString","selected","interactiveCursorClass","onDragStart","onDrag","onDragComplete","onUnHover","getLineCoordinates","start","endX","endY","end","startXY","endXY","xScale","yScale","chartConfig","dx","dy","halfY","oneThirdY","oneFourthY","oneEighthY","halfX","oneThirdX","oneFourthX","oneEighthX","lineCoods","type","propTypes","string","isRequired","number","arrayOf","func","defaultClassName","bool","defaultProps"],"mappings":"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","file":"GannFan.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { pairs } from \"d3-array\";\nimport { path as d3Path } from \"d3-path\";\n\nimport GenericChartComponent from \"../../GenericChartComponent\";\nimport { getMouseCanvas } from \"../../GenericComponent\";\nimport { generateLine, isHovering2 } from \"./StraightLine\";\n\nimport {\n\tisDefined, isNotDefined,\n\tnoop, hexToRGBA,\n} from \"../../utils\";\n\nclass GannFan extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.isHover = this.isHover.bind(this);\n\t}\n\tisHover(moreProps) {\n\t\tconst { tolerance, onHover } = this.props;\n\t\tconst { mouseXY } = moreProps;\n\t\tconst [mouseX, mouseY] = mouseXY;\n\n\t\tlet hovering = false;\n\t\tif (isDefined(onHover)) {\n\n\t\t\tconst lines = helper(this.props, moreProps);\n\n\t\t\tfor (let i = 0; i < lines.length; i++) {\n\t\t\t\tconst line1 = lines[i];\n\n\t\t\t\tconst left = Math.min(line1.x1, line1.x2);\n\t\t\t\tconst right = Math.max(line1.x1, line1.x2);\n\t\t\t\tconst top = Math.min(line1.y1, line1.y2);\n\t\t\t\tconst bottom = Math.max(line1.y1, line1.y2);\n\n\t\t\t\tconst isWithinLineBounds = mouseX >= left && mouseX <= right\n\t\t\t\t\t&& mouseY >= top && mouseY <= bottom;\n\n\t\t\t\thovering = isWithinLineBounds\n\t\t\t\t\t&& isHovering2(\n\t\t\t\t\t\t[line1.x1, line1.y1],\n\t\t\t\t\t\t[line1.x2, line1.y2],\n\t\t\t\t\t\tmouseXY,\n\t\t\t\t\t\ttolerance);\n\n\t\t\t\tif (hovering) break;\n\t\t\t}\n\t\t}\n\t\treturn hovering;\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst {\n\t\t\tstroke, strokeWidth, strokeOpacity,\n\t\t\tfill, fillOpacity,\n\t\t\tfontFamily, fontSize, fontFill\n\t\t} = this.props;\n\n\n\t\tconst lines = helper(this.props, moreProps);\n\n\t\tctx.lineWidth = strokeWidth;\n\t\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\n\n\t\tctx.font = `${ fontSize }px ${fontFamily}`;\n\t\tctx.fillStyle = fontFill;\n\n\t\tlines.forEach(line => {\n\t\t\tconst {\n\t\t\t\tx1, y1, x2, y2, label\n\t\t\t} = line;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x1, y1);\n\t\t\tctx.lineTo(x2, y2);\n\t\t\tctx.stroke();\n\t\t\tctx.beginPath();\n\t\t\tctx.fillText(label.text, label.x, label.y);\n\t\t});\n\t\tconst pairsOfLines = pairs(lines);\n\n\t\tpairsOfLines.forEach(([line1, line2], idx) => {\n\t\t\tctx.fillStyle = hexToRGBA(fill[idx], fillOpacity);\n\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(line1.x1, line1.y1);\n\t\t\tctx.lineTo(line1.x2, line1.y2);\n\t\t\tctx.lineTo(line2.x2, line2.y2);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t});\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { stroke, strokeWidth, fillOpacity, fill, strokeOpacity } = this.props;\n\n\t\tconst lines = helper(this.props, moreProps);\n\t\tconst pairsOfLines = pairs(lines);\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t{lines.map((each, idx) => {\n\t\t\t\t\tconst { x1, y1, x2, y2 } = each;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<line key={idx}\n\t\t\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\t\t\tx1={x1}\n\t\t\t\t\t\t\ty1={y1}\n\t\t\t\t\t\t\tx2={x2}\n\t\t\t\t\t\t\ty2={y2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{pairsOfLines.map(([line1, line2], idx) => {\n\t\t\t\t\tconst ctx = d3Path();\n\t\t\t\t\tctx.moveTo(line1.x1, line1.y1);\n\t\t\t\t\tctx.lineTo(line1.x2, line1.y2);\n\t\t\t\t\tctx.lineTo(line2.x2, line2.y2);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<path key={idx}\n\t\t\t\t\t\t\tstroke=\"none\"\n\t\t\t\t\t\t\tfill={fill[idx]}\n\t\t\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\t\t\td={ctx.toString()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\tconst { selected, interactiveCursorClass } = this.props;\n\t\tconst { onDragStart, onDrag, onDragComplete, onHover, onUnHover } = this.props;\n\n\t\treturn <GenericChartComponent\n\t\t\tisHover={this.isHover}\n\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasToDraw={getMouseCanvas}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\n\t\t\tinteractiveCursorClass={interactiveCursorClass}\n\t\t\tselected={selected}\n\n\t\t\tonDragStart={onDragStart}\n\t\t\tonDrag={onDrag}\n\t\t\tonDragComplete={onDragComplete}\n\t\t\tonHover={onHover}\n\t\t\tonUnHover={onUnHover}\n\n\t\t\tdrawOn={[\"mousemove\", \"mouseleave\", \"pan\", \"drag\"]}\n\t\t/>;\n\t}\n}\n\nfunction getLineCoordinates(start, endX, endY, text) {\n\tconst end = [\n\t\tendX,\n\t\tendY\n\t];\n\treturn {\n\t\tstart, end, text\n\t};\n}\n\nfunction helper(props, moreProps) {\n\tconst { startXY, endXY } = props;\n\n\tconst {\n\t\txScale,\n\t\tchartConfig: { yScale }\n\t} = moreProps;\n\tif (isNotDefined(startXY) || isNotDefined(endXY)) {\n\t\treturn [];\n\t}\n\tconst [x1, y1] = startXY;\n\tconst [x2, y2] = endXY;\n\n\tconst dx = x2 - x1;\n\tconst dy = y2 - y1;\n\n\tif (dx !== 0 && dy !== 0) {\n\t\t// console.log(\"modLine ->\", startXY, modLine, dx1, dy1)\n\t\tconst halfY = getLineCoordinates(\n\t\t\tstartXY,\n\t\t\tx2,\n\t\t\ty1 + dy / 2,\n\t\t\t\"2/1\"\n\t\t);\n\t\tconst oneThirdY = getLineCoordinates(\n\t\t\tstartXY,\n\t\t\tx2,\n\t\t\ty1 + dy / 3,\n\t\t\t\"3/1\"\n\t\t);\n\t\tconst oneFourthY = getLineCoordinates(\n\t\t\tstartXY,\n\t\t\tx2,\n\t\t\ty1 + dy / 4,\n\t\t\t\"4/1\"\n\t\t);\n\t\tconst oneEighthY = getLineCoordinates(\n\t\t\tstartXY,\n\t\t\tx2,\n\t\t\ty1 + dy / 8,\n\t\t\t\"8/1\"\n\t\t);\n\t\tconst halfX = getLineCoordinates(\n\t\t\tstartXY,\n\t\t\tx1 + dx / 2,\n\t\t\ty2,\n\t\t\t\"1/2\"\n\t\t);\n\t\tconst oneThirdX = getLineCoordinates(\n\t\t\tstartXY,\n\t\t\tx1 + dx / 3,\n\t\t\ty2,\n\t\t\t\"1/3\"\n\t\t);\n\t\tconst oneFourthX = getLineCoordinates(\n\t\t\tstartXY,\n\t\t\tx1 + dx / 4,\n\t\t\ty2,\n\t\t\t\"1/4\"\n\t\t);\n\t\tconst oneEighthX = getLineCoordinates(\n\t\t\tstartXY,\n\t\t\tx1 + dx / 8,\n\t\t\ty2,\n\t\t\t\"1/8\"\n\t\t);\n\t\tconst lines = [\n\t\t\toneEighthX,\n\t\t\toneFourthX,\n\t\t\toneThirdX,\n\t\t\thalfX,\n\t\t\t{ start: startXY, end: endXY, text: \"1/1\" },\n\t\t\thalfY,\n\t\t\toneThirdY,\n\t\t\toneFourthY,\n\t\t\toneEighthY,\n\t\t];\n\t\tconst lineCoods = lines.map(line => {\n\t\t\tconst { x1, y1, x2, y2 } = generateLine({\n\t\t\t\ttype: \"RAY\",\n\t\t\t\tstart: line.start,\n\t\t\t\tend: line.end,\n\t\t\t\txScale,\n\t\t\t\tyScale,\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tx1: xScale(x1),\n\t\t\t\ty1: yScale(y1),\n\t\t\t\tx2: xScale(x2),\n\t\t\t\ty2: yScale(y2),\n\t\t\t\tlabel: {\n\t\t\t\t\tx: xScale(line.end[0]),\n\t\t\t\t\ty: yScale(line.end[1]),\n\t\t\t\t\ttext: line.text\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t\treturn lineCoods;\n\t}\n\treturn [];\n}\n\n\nGannFan.propTypes = {\n\tinteractiveCursorClass: PropTypes.string,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tfill: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tstrokeOpacity: PropTypes.number.isRequired,\n\tfillOpacity: PropTypes.number.isRequired,\n\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tfontFill: PropTypes.string.isRequired,\n\n\tonDragStart: PropTypes.func.isRequired,\n\tonDrag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tonHover: PropTypes.func,\n\tonUnHover: PropTypes.func,\n\n\tdefaultClassName: PropTypes.string,\n\n\ttolerance: PropTypes.number.isRequired,\n\tselected: PropTypes.bool.isRequired,\n};\n\nGannFan.defaultProps = {\n\tonDragStart: noop,\n\tonDrag: noop,\n\tonDragComplete: noop,\n\n\tstrokeWidth: 1,\n\ttolerance: 4,\n\tselected: false,\n};\n\nexport default GannFan;\n"]}