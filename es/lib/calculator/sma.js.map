{"version":3,"sources":["../../../../src/lib/calculator/sma.js"],"names":["mean","slidingWindow","SMA","defaultOptions","options","calculator","data","windowSize","sourcePath","average","accumulator","values","undefinedLength","x","arguments","length"],"mappings":"AAAA;;;;AAEA,SAASA,IAAT,QAAqB,UAArB;;AAEA,SAASC,aAAT,QAA8B,UAA9B;AACA,SAASC,OAAOC,cAAhB,QAAsC,gCAAtC;;AAEA,eAAe,YAAW;;AAEzB,KAAIC,UAAUD,cAAd;;AAEA,UAASE,UAAT,CAAoBC,IAApB,EAA0B;AAAA,iBACUF,OADV;AAAA,MACjBG,UADiB,YACjBA,UADiB;AAAA,MACLC,UADK,YACLA,UADK;;;AAGzB,MAAMC,UAAUR,gBACdM,UADc,CACHA,UADG,EAEdC,UAFc,CAEHA,UAFG,EAGdE,WAHc,CAGF;AAAA,UAAUV,KAAKW,MAAL,CAAV;AAAA,GAHE,CAAhB;;AAKA,SAAOF,QAAQH,IAAR,CAAP;AACA;AACDD,YAAWO,eAAX,GAA6B,YAAW;AAAA,kBAChBR,OADgB;AAAA,MAC/BG,UAD+B,aAC/BA,UAD+B;;AAEvC,SAAOA,aAAa,CAApB;AACA,EAHD;AAIAF,YAAWD,OAAX,GAAqB,UAASS,CAAT,EAAY;AAChC,MAAI,CAACC,UAAUC,MAAf,EAAuB;AACtB,UAAOX,OAAP;AACA;AACDA,yBAAeD,cAAf,EAAkCU,CAAlC;AACA,SAAOR,UAAP;AACA,EAND;;AAQA,QAAOA,UAAP;AACA","file":"sma.js","sourcesContent":["\"use strict\";\n\nimport { mean } from \"d3-array\";\n\nimport { slidingWindow } from \"../utils\";\nimport { SMA as defaultOptions } from \"./defaultOptionsForComputation\";\n\nexport default function() {\n\n\tlet options = defaultOptions;\n\n\tfunction calculator(data) {\n\t\tconst { windowSize, sourcePath } = options;\n\n\t\tconst average = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.sourcePath(sourcePath)\n\t\t\t.accumulator(values => mean(values));\n\n\t\treturn average(data);\n\t}\n\tcalculator.undefinedLength = function() {\n\t\tconst { windowSize } = options;\n\t\treturn windowSize - 1;\n\t};\n\tcalculator.options = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn options;\n\t\t}\n\t\toptions = { ...defaultOptions, ...x };\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n"]}